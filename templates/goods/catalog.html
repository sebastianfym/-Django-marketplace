{% extends 'base.html' %}
{% load i18n %}
{% load static %}

  {% block header %}
    {% include 'elements/header.html' %}
  {% endblock header %}

  {% block content %}

  <div class="Header-searchWrap">
        <div class="wrap">
            <div class="Header-categories">
                <div class="CategoriesButton">
                    <div class="CategoriesButton-title">
                        <div class="CategoriesButton-icon"><img
                                src="{% static 'assets/img/icons/allDep.svg' %}"
                                alt="allDep.svg">
                        </div>
                        <a href="{% url 'catalog' %}?category__title=all">
                        <span class="CategoriesButton-text">{% translate 'All categorues' %}</span>
                        </a>
                        <div class="CategoriesButton-arrow">
                        </div>
                    </div>
                    <div class="CategoriesButton-content">
                        <div class="CategoriesButton-link"><a href="{% url 'catalog' %}?category__title=all">
                            <div class="CategoriesButton-icon"><img
                                    src="{% static 'assets/img/icons/departments/1.svg' %}"
                                    alt="1.svg">
                            </div>
                            <span class="CategoriesButton-text">ALL CATEGORIES</span></a>
                        </div>

                        {% for cat in category %}
                        <div class="CategoriesButton-link"><a href="{% url 'catalog' %}?category__title={{ cat.title }}">
                            <div class="CategoriesButton-icon"><img
                                    src="{% static 'assets/img/icons/departments/1.svg' %}"
                                    alt="1.svg">
                            </div>
                            <span class="CategoriesButton-text">{{ cat.title }}</span></a>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            <div class="Header-searchLink"><img src="{% static 'assets/img/icons/search.svg' %}"
                                                alt="search.svg">
            </div>
            <div class="Header-search">
                <div class="search">
                    <form class="form form_search" action="#" method="post">
                        <input class="search-input" id="query" name="query" type="text" placeholder="Что вы ищете">
                        <button class="search-button" type="submit" name="search" id="search"><img src="{% static 'assets/img/icons/search.svg' %}" alt="search.svg">Найти
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
  <div class="Middle Middle_top">
    <div class="Middle-top">
      <div class="wrap">
        <div class="Middle-header">
          <h1 class="Middle-title">{% translate 'Megano Catalog' %}
          </h1>
          <ul class="breadcrumbs Middle-breadcrumbs">
            <li class="breadcrumbs-item"><a href="#">{% translate 'Home' %}</a>
            </li>
            <li class="breadcrumbs-item breadcrumbs-item_current"><span>{% translate 'Catalog' %}</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="Section Section_column Section_columnLeft">
      <div class="wrap">
        <div class="Section-column">
          <div class="Section-columnSection">
            <header class="Section-header">
              <strong class="Section-title">{% translate 'Filter' %}
              </strong>
            </header>
            <div class="Section-columnContent">
              <form class="form" method="get">
                <div class="form-group">
                  <div class="range Section-columnRange">
                    <input class="range-line" id="price" name="price" type="text" data-type="double" data-min="7" data-max="500000" data-from="{{ price__gte }}" data-to="{{ price__lte }}"/>
                    <div class="range-price">Price:&#32;
                      <div class="rangePrice">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <input class="form-input form-input_full" value="{{ name__icontains }}" id="title" name="name__icontains" type="text" placeholder="Название"/>
                </div>
                <div class="form-group">
                  <!-- - var options = setOptions(items, ['value', 'selected', 'disabled']);-->
                  <select class="form-select" name="goods_in_market__seller__title">

                    <option value="" selected="selected">
                    </option>
                      {% for seller in sellers %}
                          {% if goods_in_market__seller__title == seller.title %}
                              <option selected> {{ seller.title }}
                          {% else %}
                              <option> {{ seller.title }}
                          {% endif %}
                        </option>
                      {% endfor %}
                  </select>
                </div>
                <div class="form-group">
                  <label class="toggle">
                    <input type="checkbox"/ {{ in_stock__gte }} name="in_stock__gte" value="1"><span class="toggle-box"></span><span class="toggle-text">Только товары в наличии</span>
                  </label>
                </div>
                <div class="form-group">
                  <label class="toggle">
                    <input type="checkbox"/ {{ delivery__gte }} name="delivery__gte" value="1"><span class="toggle-box"></span><span class="toggle-text">С бесплатной доставкой</span>
                  </label>
                </div>
                <div class="form-group">
                  <div class="buttons"><button name="filter" value="filter" class="btn btn_square btn_dark btn_narrow" type="submit">Filter</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
          <div class="Section-columnSection">
            <header class="Section-header">
              <strong class="Section-title">{% translate 'Popular tags' %}
              </strong>
            </header>
            <div class="Section-columnContent">
              <div class="buttons"><a class="btn btn_default btn_sm" href="#">Video</a><a class="btn btn_default btn_sm" href="#">Development</a><a class="btn btn_default btn_sm" href="#">Gaming</a><a class="btn btn_default btn_sm" href="#">Asus</a><a class="btn btn_default btn_sm" href="#">Development</a><a class="btn btn_default btn_sm" href="#">Video</a>
              </div>
            </div>
          </div>
        </div>
        <div class="Section-content">
          <div class="Sort">
            <div class="Sort-title">{% translate 'Sort by' %}:
            </div>
            <div class="Sort-variants">
                <a class="Sort-sortBy Sort-sortBy_dec" href="{% url 'catalog' %}?sort=quantity">{% translate 'Popularity' %}</a>
                <a class="Sort-sortBy" href="{% url 'catalog' %}?sort=price">{% translate 'Price' %}</a>
                <a class="Sort-sortBy" href="{% url 'catalog' %}?sort=rating">{% translate 'Reviews' %}</a>
                <a class="Sort-sortBy Sort-sortBy_inc" href="{% url 'catalog' %}?sort=release_date">{% translate 'Novelty' %}</a>
            </div>
          </div>


          <div class="Cards">
          {% for goods in catalog %}
            <div class="Card"><a class="Card-picture" href="{{ goods.get_absolute_url }}"><img src="{{ goods.image.url }}" alt="card.jpg"/></a>
              <div class="Card-content">
                <strong class="Card-title"><a href="{{ goods.get_absolute_url }}"> {{ goods.name }} </a>
                </strong>
                <div class="Card-description">
                  <div class="Card-cost"><span class="Card-priceOld">${% translate '{{ goods.price }}' %}</span><span class="Card-price"> {{ goods.price }} </span>
                  </div>
                  <div class="Card-category"> {{ goods.category.title }}
                  </div>
                  <div class="Card-hover"><a class="Card-btn" href="{{ goods.get_absolute_url }}"><img src="{% static 'assets/img/icons/card/bookmark.svg' %}" alt="bookmark.svg"/></a><a class="Card-btn" href="#"><img src="{% static 'assets/img/icons/card/cart.svg' %}" alt="cart.svg"/></a><a class="Card-btn" href="{% url 'compare_add' goods.id %}"><img src="{% static 'assets/img/icons/card/change.svg' %}" alt="change.svg"/></a>
                  </div>
                </div>
              </div>
              <div class="Card-sale">-60%
              </div>
            </div>
          {% endfor %}

          <div class="Pagination">
            <div class="Pagination-ins">
                <a class="Pagination-element Pagination-element_prev" href="#"><img src="{% static 'assets/img/icons/prevPagination.svg' %}" alt="prevPagination.svg"/></a>

                {% for page in paginator.page_range %}
                    {% if page_obj.number == page %}
                        <a class="Pagination-element Pagination-element_current" href="#"><span class="Pagination-text"> {{ page }} </span></a>
                    {% else %}
                        <a class="Pagination-element " href="{% url 'catalog' %}?page={{ page }}"><span class="Pagination-text"> {{ page }} </span></a>
                    {% endif %}
                    {% endfor %}
                <a class="Pagination-element Pagination-element_prev" href="{% url 'catalog' %}?page={{ page }}"><img src="{% static 'assets/img/icons/nextPagination.svg' %}" alt="nextPagination.svg"/></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock content %}

{% block footer %}
{% include 'elements/footer.html' %}
{% endblock footer %}
<!--+Middle-->
<!--    +div.-top-->
<!--        +breadcrumbs('Главная','Портфолио')-->
<!--    +Article('portfolio')-->
<!---->
<script src="{% static 'assets/plg/jQuery/jquery-3.5.0.slim.min.js' %}"></script>
<script src="{% static 'assets/plg/form/jquery.form.js' %}"></script>
<script src="{% static 'assets/plg/form/jquery.maskedinput.min.js' %}"></script>
<script src="{% static 'assets/plg/range/ion.rangeSlider.min.js' %}"></script>
<script src="{% static 'assets/plg/Slider/slick.min.js' %}"></script>
<script src="{% static 'assets/js/scripts.js' %}"></script>
